(this["webpackJsonpmoja-aplikacja"]=this["webpackJsonpmoja-aplikacja"]||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(21),s=n.n(a),r=(n(27),n(11)),o=n(8),l=n.n(o),u=n(12),j=n(9),d=(n(29),n.p+"static/media/bin.61e22baa.png"),b=n.p+"static/media/add.8937cc99.png",h=n(2),p=n(0),O=c.a.createContext({});function f(e,t){var n=localStorage.getItem(e);return null!==n&&n.length>0?JSON.parse(n):"function"===typeof t?t():t}function x(e){var t=Object(j.a)(e,2);return{tasks:f(t[0],t[1]),formTask:"",filterCondition:"All"}}function g(e,t){switch(t.type){case"JOIN_EXTERNAL_DATA":if(0===e.tasks.length){var n=t.externalData.map((function(e){return{title:e.title,completed:e.completed,isDisplayable:"inline",id:"task"+e.id}}));return Object(h.a)(Object(h.a)({},e),{},{tasks:n})}return Object(h.a)({},e);case"FIELD":return Object(h.a)(Object(h.a)({},e),{},{formTask:t.payload});case"SUBMIT":return Object(h.a)(Object(h.a)({},e),{},{tasks:[].concat(Object(r.a)(e.tasks),[{title:e.formTask,completed:!1,isDisplayable:"inline",id:"Task".concat(e.tasks.length+1)}]),formTask:""});case"DELETE":var i=Object(r.a)(e.tasks);return i.splice(t.buttonIndex,1),Object(h.a)(Object(h.a)({},e),{},{tasks:Object(r.a)(i)});case"CHECKBOX":var c=Object(r.a)(e.tasks);return c[t.checkboxIndex].completed=!t.payload,Object(h.a)(Object(h.a)({},e),{},{tasks:Object(r.a)(c)});case"FILTER":var a,s=t.payload;return a="All"===s?"All":"Done"===s,Object(h.a)(Object(h.a)({},e),{},{filterCondition:a});default:return e}}var m=function(e){var t="toDoTaskList",n=window.innerHeight>window.innerWidth?window.innerWidth/2:window.innerHeight/2,c=Object(i.useReducer)(g,[t,[]],x),a=Object(j.a)(c,2),s=a[0],r=a[1];return Object(p.jsx)(O.Provider,{value:{state:s,dispatch:r,storageKey:t,elementsSizeUnit:n},children:e.children})};var y=function(e){var t=Object(i.useContext)(O).elementsSizeUnit,n=t/14,c=t/10;return e.isRemove?Object(p.jsx)("img",{alt:"removeButton",className:"removeButton",src:d,style:{height:n,marginRight:"1%",width:n,float:"right",cursor:"pointer"},onClick:e.clickFunction}):Object(p.jsx)("img",{alt:"submitButton",className:"submitButton",src:b,style:{height:c,width:c,cursor:"pointer"},onClick:e.clickFunction})};var v=function(e){var t=Object(i.useContext)(O),n=t.state,c=t.dispatch,a=t.storageKey,s=t.elementsSizeUnit;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{id:"taskInput",style:{fontSize:s/18,border:"none",flex:"0.8",color:"#1868ae"},type:"text",value:n.formTask,onChange:function(e){c({type:"FIELD",payload:e.target.value})}}),Object(p.jsx)(y,{clickFunction:function(e){e.preventDefault(),c({type:"SUBMIT",key:a})},isRemove:!1})]})};var k=function(e){var t=Object(i.useContext)(O),n=t.dispatch,c=t.elementsSizeUnit;return Object(p.jsxs)("select",{id:"optionContainer",name:"condition",onChange:function(e){n({type:"FILTER",payload:e.target.value})},style:{fontSize:c/18,border:"none",flex:"0.3"},children:[Object(p.jsx)("option",{defaultValue:"All",value:"All",children:" All "}),Object(p.jsx)("option",{value:"Done",children:" Done"}),Object(p.jsx)("option",{value:"Undone",children:" Undone"})]})};var w=function(e){var t=Object(i.useContext)(O).elementsSizeUnit;return Object(p.jsx)("input",{onChange:e.onClickBox,type:"checkbox",checked:e.isChecked,style:{transform:"scale(".concat(t/330,")"),marginLeft:"2%"}})},C=n(10);var S=function(e){var t=Object(i.useContext)(O),n=t.state,c=t.dispatch,a=t.elementsSizeUnit,s=e.index+1+". ";return Object(p.jsxs)("li",{className:"task",id:"task"+e.index,style:{backgroundColor:"white",marginTop:"1%",height:a/12,width:"110%"},children:[Object(p.jsx)(w,{onClickBox:function(){return t=e.index,void c({type:"CHECKBOX",checkboxIndex:t,payload:n.tasks[t].completed});var t},isChecked:n.tasks[e.index].completed}),"\xa0",Object(p.jsx)(C.b,{className:"links",to:"/todos/".concat(e.task.id),children:Object(p.jsxs)("span",{style:{fontSize:a/18,marginLeft:"1%"},children:[Object(p.jsx)("b",{children:s}),e.task.title]})}),"\xa0",Object(p.jsx)(y,{clickFunction:function(){return t=e.index,void c({type:"DELETE",buttonIndex:t});var t},isRemove:!0,title:"X"})]})};var T=function(){var e=Object(i.useContext)(O).state,t=e.tasks,n=e.filterCondition;return Object(p.jsx)("ul",{className:"tasks",style:{listStyleType:"none",width:"max-content",textAlign:"left",marginTop:"2%"},children:t.map((function(e,t){return("All"===n||e.completed===n)&&Object(p.jsx)(S,{task:e,index:t},t)}))})},I=n(3),z=i.createContext();function A(e){var t=i.useState(!1),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(I.g)(),r=["QpwL5tke4Pnpja7X4"];function o(e,t){return d.apply(this,arguments)}function d(){return(d=Object(u.a)(l.a.mark((function e(t,n){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reqres.in/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){i=200===e.status&&e.json()}));case 2:return e.abrupt("return",i);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(u.a)(l.a.mark((function e(t,n){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.next=3,o(t,n).then((function(e){e&&r.includes(e.token)&&(i=!0,a(!0),s.push("/todo"))}));case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={isLogged:c,signIn:function(e,t){return b.apply(this,arguments)},signOut:function(){return a(!1)}};return Object(p.jsx)(z.Provider,{value:h,children:e.children})}var E=n.p+"static/media/logout.bdc81afd.png",D=n.p+"static/media/hover.398217ee.png";var L=function(e){var t=Object(i.useContext)(O),n=t.state,c=t.dispatch,a=t.storageKey,s=t.elementsSizeUnit,o=Object(i.useContext)(z),d=o.isLogged,b=o.signOut,h=function(e){var t=Object(i.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1];return Object(i.useMemo)((function(){var t=!1;function n(){return(n=Object(u.a)(l.a.mark((function t(){var n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:i=t.sent,a(i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return t&&function(){n.apply(this,arguments)}(),function(){t=!1}}),[e]),c}("https://jsonplaceholder.typicode.com/users/1/todos");Object(i.useEffect)((function(){localStorage.setItem(a,JSON.stringify(Object(r.a)(n.tasks)))}),[n.tasks,a]),Object(i.useEffect)((function(){c({type:"JOIN_EXTERNAL_DATA",externalData:h})}),[h,c]);var f={justifyContent:"center",alignItems:"center",flex:"1",display:"flex"},x={fontSize:s/18,color:"#1868ae",whiteSpace:"nowrap"};return d?Object(p.jsxs)("div",{className:"appContainer",style:{width:"100%",textAlign:"center"},children:[Object(p.jsx)("h1",{style:{width:"100%",fontSize:s/7,textAlign:"center",color:"#1868ae"},children:"ToDo (or not ToDo) List"}),Object(p.jsxs)("form",{style:{width:"50%",alignItems:"center",display:"flex",justifyContent:"center",marginLeft:"28%"},children:[Object(p.jsxs)("span",{style:f,children:[Object(p.jsx)("label",{style:x,children:"Add new task:"})," \xa0\xa0",Object(p.jsx)(v,{})]}),Object(p.jsxs)("span",{style:f,children:[Object(p.jsx)("label",{style:x,children:"Sorting:"}),"\xa0\xa0",Object(p.jsx)(k,{})]}),Object(p.jsx)("span",{style:{flex:.5},children:Object(p.jsx)("img",{alt:"logoutButton",onMouseOver:function(e){return e.currentTarget.src=D},onMouseOut:function(e){return e.currentTarget.src=E},style:{height:s/10},src:E,onClick:function(){b()}})})]}),Object(p.jsx)("span",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)(T,{})})]}):Object(p.jsx)(I.a,{to:{pathname:"/login"}})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),a(e),s(e)}))},H=n.p+"static/media/lock.d009ed91.png";var B=function(e){var t=Object(i.useContext)(z).signIn,n=Object(i.useState)({email:"email",password:"password"}),c=Object(j.a)(n,2),a=c[0],s=c[1],r=Object(i.useState)(!1),o=Object(j.a)(r,2),d=o[0],b=o[1],O={fontSize:window.innerHeight/40};function f(){return(f=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a.email,a.password).then((function(e){e||b(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)("div",{style:{textAlign:"center",width:"100%"},children:[Object(p.jsx)("h1",{style:{fontSize:window.innerHeight/20},children:"User login"}),Object(p.jsx)("input",{style:O,onFocus:function(){s(Object(h.a)(Object(h.a)({},a),{},{email:""})),b(!1)},value:a.email,onChange:function(e){s(Object(h.a)(Object(h.a)({},a),{},{email:e.target.value}))}}),Object(p.jsx)("img",{alt:"lockIcon",style:{position:"absolute",display:"inline-block",top:window.innerHeight/9,height:window.innerHeight/11},src:H}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{style:O,value:a.password,onFocus:function(){s(Object(h.a)(Object(h.a)({},a),{},{password:""})),b(!1)},onChange:function(e){s(Object(h.a)(Object(h.a)({},a),{},{password:e.target.value}))}}),d&&Object(p.jsx)("h2",{style:{fontSize:window.innerHeight/50,color:"red"},children:"Wrong email or password."}),!d&&Object(p.jsx)("h2",{style:{fontSize:window.innerHeight/50},children:"\xa0"}),Object(p.jsx)("button",{style:{fontSize:window.innerHeight/35,background:"grey",color:"white"},onClick:function(){!function(){f.apply(this,arguments)}()},children:"Submit"}),Object(p.jsx)("br",{}),Object(p.jsx)("h2",{id:"hintMessage",onClick:function(){s({email:"eve.holt@reqres.in",password:"whatever"})},style:{fontSize:window.innerHeight/45},children:'Hint: auth server will accept email: "eve.holt@reqres.in" and any non-empty string as password (or just click here).'})]})};var N=function(e){var t=i.useContext(O).state,n=Object(I.h)().id,c=t.tasks.find((function(e){return e.id===n}));return Object(p.jsx)("div",{children:Object(p.jsx)("h2",{children:c?c.title:"Task was deleted."})})};var U=function(){var e=Object(I.g)(),t={backgroundColor:"#4CAF50",color:"white",fontSize:window.innerHeight/20};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"It looks like you're lost, m8."}),Object(p.jsx)("button",{style:t,onClick:function(){e.replace("/login")},children:"Take me back."})]})};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(C.a,{children:Object(p.jsx)(A,{children:Object(p.jsx)(m,{children:Object(p.jsxs)(I.d,{children:[Object(p.jsx)(I.b,{path:"/todo",children:Object(p.jsx)(L,{})}),Object(p.jsx)(I.b,{path:"/todos/:id",children:Object(p.jsx)(N,{})}),Object(p.jsx)(I.b,{exact:!0,path:["/login","/"],children:Object(p.jsx)(B,{})}),Object(p.jsx)(I.b,{path:"/*",children:Object(p.jsx)(U,{})})]})})})})}),document.getElementById("root")),F()}},[[39,1,2]]]);
//# sourceMappingURL=main.9e0e7ca1.chunk.js.map